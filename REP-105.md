# **REP-105** 

REP-105 是一个名为 “Coordinate Frames for Mobile Platforms”（移动平台的坐标系框架）的 ROS Enhancement Proposal（REP）。该提案由 Wim Meeussen 于 2010年10月27日 创建，并处于活动状态。本文将介绍 REP-105 的内容，包括其摘要、动机、规范、坐标系、坐标系之间的关系等。

## 1.摘要

**REP-105** 规定了用于 **ROS** 的移动平台的坐标系的命名约定和语义含义。

## 

## 2.目的

开发者需要共享的坐标系约定，以更好地集成和重用驱动程序、模型和库等软件组件。这个共享的坐标系约定可为创建移动基座的驱动程序和模型的开发者提供规范。同样，创建库和应用程序的开发者可以更轻松地将其软件与兼容此规范的多种移动基座一起使用。例如，REP-105 规定了编写新的定位组件所需的坐标系。它还规定了用于引用机器人的移动基座的坐标系。


## 3.规范

### 3.1坐标系

#### base_link

名为 *“base_link”* 的坐标系刚性地附加在移动机器人的基座上。可以将 *“base_link”* 以任意的位置或方向附加到基座上；对于每个硬件平台，基座上提供明显参考点的位置可能不同。需要注意的是，**REP-103** 指定了坐标系的首选方向。

#### odom

名为 “odom” 的坐标系是一个世界固定坐标系。在 “odom” 坐标系中，移动平台的姿态随时间可能会漂移，但没有界限。这种漂移使得 “odom” 坐标系作为长期全局参考无用。然而，机器人在 “odom” 坐标系中的姿态保证是连续的，这意味着机器人在 “odom” 坐标系中的姿态始终以平稳的方式演变，没有离散的跳跃。

在典型的设置中，基于测距源（如轮式测距、视觉测距或惯性测量单元）计算了 *“odom”* 坐标系。机器人在 *“odom”* 坐标系中的姿态是基于这些测距源计算的。

*“odom”* 坐标系作为准确的短期局部参考很有用，但漂移使其成为长期参考的较差坐标系。

#### map

名为 “map” 的坐标系是一个世界固定坐标系，其Z轴指向上方。移动平台相对于 “map” 坐标系的姿态随时间不应显著漂移。但 “map” 坐标系不连续，这意味着移动平台在 “map” 坐标系中的姿态可以在任何时候以离散跳跃的方式发生变化。

在典型的设置中，定位组件基于传感器观测不断重新计算机器人在 “map” 坐标系中的姿态，从而消除漂移，但当新的传感器信息到达时会导致离散跳跃。

“map” 坐标系作为长期全局参考很有用，但在位置估计器中的离散跳跃使其成为局部感知和操作的较差参考坐标系。

### 3.2 Map约定

地图坐标系可以全局引用，也可以引用到特定应用程序位置。例如，一个应用程序特定的定位可能是根据EGM1996确定的海平面高度，使得地图坐标系中的Z位置等于海平面上方的米数。不管选择何种方式，最重要的部分是必须清楚地记录参考位置的选择，以避免混淆。

当与地球等全球参考一起定义坐标系时：

默认情况下，应将x轴对齐到东方，y轴对齐到北方，z轴在坐标系原点上方朝上。
如果没有其他参考，z轴的默认位置应该是在WGS84椭球的高度为零的位置。
如果存在特定应用程序要求，上述要求无法满足的情况应尽可能满足。

一个不能满足上述要求的应用示例是启动时没有外部参考设备（如GPS、罗盘或高度计）的机器人。但如果机器人仍具有加速度计，它可以在当前位置初始化地图，z轴朝上。

如果机器人在启动时具有罗盘航向，它还可以初始化东向x轴，北向y轴。

如果机器人在启动时具有高度计估计，它可以将高度初始化为MSL。

上述约定强烈建议在非结构化环境中使用。

